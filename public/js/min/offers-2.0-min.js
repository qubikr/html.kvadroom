var ClickOutside=function(i){var e=this,t=_.uniqueId("UIClickOutside_");this.options=$.extend({selector:"",onClickOutside:function(i){}},i),this.bind=function(){this.unbind(),$(document).on("mouseup."+t,function(i){var t=$(e.options.selector);t.is(i.target)||0!==t.has(i.target).length||e.options.onClickOutside(i.target)})},this.unbind=function(){$(document).off("mouseup."+t)}};$(function(){$(".offers-2 .list>.item").each(function(){var i=$(this).find(".frames"),e=i.children(".frames-content").eq(0),t=i.parent();i.sly({horizontal:1,itemNav:"basic",smart:1,activateOn:"click",mouseDragging:0,touchDragging:1,releaseSwing:1,startAt:3,scrollBar:t.find(".scrollbar"),scrollBy:1,pagesBar:t.find(".pages"),activatePageOn:"click",speed:300,elasticBounds:1,easing:"easeOutExpo",dragHandle:1,dynamicHandle:1,clickBar:1,forward:t.find(".forward"),backward:t.find(".backward"),prev:t.find(".slide-left"),next:t.find(".slide-right"),prevPage:t.find(".prevPage"),nextPage:t.find(".nextPage")})}),$(".dropdown, #is-date, .input-hybrid").off("click").on("click",function(){var i=$(this);if(i.hasClass("active"))i.find("li.highlight").removeClass("highlight"),i.removeClass("active"),$(document).off("keydown.filter3dropdown");else{var e=new ClickOutside({selector:"#"+i.attr("id"),onClickOutside:function(){i.removeClass("active"),$(document).off("keydown.filter3dropdown")}});e.bind(),i.addClass("active"),i.find("li.highlight").removeClass("highlight"),i.find("li").off("mouseover").on("mouseover",function(e){i.find("li").removeClass("highlight"),i.data("keysNav",!1)}),$(document).off("keydown.filter3dropdown").on("keydown.filter3dropdown",function(e){switch(i.data("keysNav")||(i.find("li").removeClass("highlight"),i.data("keysNav",!0)),e.keyCode){case 27:i.removeClass("active"),$(document).off("keydown.filter3dropdown");break;case 13:i.find("li.highlight").trigger("click"),i.removeClass("active"),$(document).off("keydown.filter3dropdown");break;case 38:var t=i.find("li.highlight").prev("li");0===t.length&&(t=i.find("li:last")),i.find("li.highlight").removeClass("highlight"),t.addClass("highlight"),e.preventDefault(),e.stopPropagation();break;case 40:var t=i.find("li.highlight").next("li");0===t.length&&(t=i.find("li").eq(0)),i.find("li.highlight").removeClass("highlight"),t.addClass("highlight"),e.preventDefault(),e.stopPropagation()}}),i.find("li").off("click").on("click",function(e){i.find("li").removeClass("active"),$(this).addClass("active"),i.find(".title").is("input")?i.find(".title").val($(this).html()):i.find(".title").html($(this).html()),i.removeClass("active"),e.stopPropagation()}),i.find(".val").off("click").on("click",function(i){i.stopPropagation()}).off("focus").on("focus",function(e){$(this).off("keydown").on("keydown",function(e){13===e.keyCode&&(i.find(".title").val($(this).val()),$(this).off("keyup focus"),i.removeClass("active"),$(this).val(""))})}).focus(),i.find(".ok").off("click").on("click",function(e){i.removeClass("active"),i.find(".title").val(i.find(".val").val()),e.preventDefault(),e.stopPropagation()})}}),$(".prices .selector li").off("click").on("click",function(){$(".prices .selector li").removeClass("active"),$(this).addClass("active"),$(".prices .selector .title").html($(this).data("title"))})});